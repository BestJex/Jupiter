# 接口文档

## 用户

### 登录 login

前端：

```json
{
   "username":"root",
   "password":"root"
}
```

后端：

```json
{
    "status": 0,
    "msg": "登录成功！",
    "data": {
        "userId": 1,
        "userType": 0,
        "username": "root"
    }
}
```

### /register

前端：

```json
{
   "username":"user",
   "password":"user",
   "phone":1
}
```

后端：

```json
{
    "status": -102,
    "msg": "存在相同用户名，请更换用户名",
    "data": null
}
```

或者

```json
{
    "status": 0,
    "msg": "注册成功",
    "data": null
}
```

### /logout

前端：无

后端：

```json
{
    "status": 0,
    "msg": "登出成功！",
    "data": null
}
```

### /checkSession

前端：无

后端：

```json
{
    "status": 0,
    "msg": "登录成功！",
    "data": {
        "userId": 1,
        "username": "root",
        "userType": 0
    }
}
```

### /getOrdersByUserId

前端：

```json
{
    "userId":1
}
```

后端：

```json
[
    {
        "orderId": 1,
        "userId": 1,
        "goodsDetail": {
            "detailId": 430,
            "goodsId": 120,
            "price": 80.0,
            "surplus": 1,
            "time": "2020-07-09 周四 21:00",
            "ticketType": "80元（预售票）",
            "image": null
        },
        "sourceId": 10001001,
        "number": 1,
        "price": 188.0,
        "time": "2020-07-08 14:51:42"
    }
]
```

## 商品

### /getGoodsByGoodsId

前端：

```json
{
    "goodsId":120
}
```

后端：

```json
{
    "status": 0,
    "msg": "成功！",
    "data": {
        "address": "场馆：上海市 | 珍珠剧场The Pearl",
        "endTime": {
            "date": 11,
            "day": 6,
            "hours": 0,
            "minutes": 0,
            "month": 6,
            "nanos": 0,
            "seconds": 0,
            "time": 1594396800000,
            "timezoneOffset": -480,
            "year": 120
        },
        "goodsDetails": [
            {
                "detailId": 430,
                "goodsId": 120,
                "image": "",
                "price": 80.0,
                "surplus": 1,
                "ticketType": "80元（预售票）",
                "time": "2020-07-09 周四 21:00"
            }
        ],
        "goodsId": 120,
        "goodsType": 0,
        "image": "",
        "name": "【上海】皇后乐队致敬音乐会 2020 全新乐章",
        "startTime": {
            "date": 9,
            "day": 4,
            "hours": 0,
            "minutes": 0,
            "month": 6,
            "nanos": 0,
            "seconds": 0,
            "time": 1594224000000,
            "timezoneOffset": -480,
            "year": 120
        },
        "website": "https://detail.damai.cn/item.htm?id=621046144219&clicktitle=%E7%9A%87%E5%90%8E%E4%B9%90%E9%98%9F%E8%87%B4%E6%95%AC%E9%9F%B3%E4%B9%90%E4%BC%9A%202020%20%E5%85%A8%E6%96%B0%E4%B9%90%E7%AB%A0"
    }
}
```

### /getAllGoods

前端：无

后端：好像出了点问题，我测试一下

```

```

### /getGoodsByGoodsType

前端：

```json
{
    "goodsType":0
}
```

后端: 出了点问题，我测试一下

